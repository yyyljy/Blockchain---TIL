# DAY 4

### 비트코인 주소 생성 예시

- Public Key
  - 난수 생성을 통해 랜덤성 부여
- SHA 256
- RIPEMD160
- Public Key Hash
  - 20 bytes / 160bits
- Base58 / Base64
- Bitcoin Address

- [Elliptic Curve 시각자료 Website](https://andrea.corbellini.name/ecc/interactive/reals-add.html)

- [비트코인 Private Key > Public Key 시각자료](https://royalforkblog.github.io/2014/08/11/graphical-address-generator/)



### 거래 Overview

#### UTXO(Unspent Transaction Output)

- 사용되지 않은 출력값

- 잔고파악
  - 개인키로 소유권을 증명
  - 개인키로 본인이 소유한 코인 검색
    - 사용되지 않은 출력값
  - 전송할 때 송금자의 지갑에 전송되었던 트랜잭션의 UTXO를 수금자에게 모두 보내고 거스름돈을 다시 자신에게 돌려받는 구조

#### 거래 수수료

- 채굴자들에게 제공하는 보상금
- 대부분의 지갑에서는 거래 수수료를 자동으로 계산하고 그 값을 거래에 포함시킴
- 거래 수수료는 처리 우선순위에 영향을 미친다.

- Fees = Sum(Inputs) - Sum(Outputs)

#### 스크립트 구성 (잠금 + 해제)

- 거래 과정
  - 해제 스크립트는  스택 실행 엔진을 이용하여 실행
  - 메인 스택이 복사되면서 잠금 스크립트가 실행됨
  - 해제 스크립트로부터 복사된 데이터와 실행된 잠금 스크립트 결과가 TRUE 면 성공
  - 해당 입력값은 UTXO를 소비하기 위한 유효한 승인 됨
  - TRUE가 아니라면 유효하지 않은 입력값이 됨
  - UTXO의 조건을 정확하게 만족하는 거래만이 ''소비 완료'' 되었다고 표시 됨 / UTXO 세트에서 사라짐

#### 튜링 불완정성과 무상태형 검증

- 튜링 불완정성
  - 비트코인의 스크립트 언어는 튜링 불완정하여 복잡성이 제한되고 실행 시간이 예측 가능하다
  - 튜링 불완정하여 무한 루프 및 논리 폭탄을 만들 수 없다.
  - 언어의 제한성이 검증 매커니즘의 취약성으로 이용될 수 있는 가능성을 차단한다
- 무상태형 검증
  - 스크립트 언어내에서는 실행 전, 후가 따로 존재하지 않음(stateless)
  - 어떤 시스템에서도 예측가능하고 동일한 방식으로 실행됨
    - 특정 노드에서 스크립트가 유효하다면 비트코인 네트워크 전체에서 유효하다고 할 수 있다.
    - 유효한 거래는 모두에게 유효하고 이러한 결과에 대한 예측 가능성이 비트코인 시스템의 이점이다.